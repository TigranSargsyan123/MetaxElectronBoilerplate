digraph g {
        compound=true;
        graph [
                //rankdir = "LR"
                rankdir = "TB"
                bgcolor = "lightyellow"
                style="filled"
                ordering="out"
        ];

        node [
                fontsize = "16"
                shape = "ellipse"
                style="filled"
        ];

        edge [
        ];

        // Web API
        label = "platform"
        bgcolor = "lightblue"

        "task1" [
                label = "Task 1"
                shape = "box"
                color = "goldenrod1"
                width=2
        ];

        "task2" [
                label = "Task 2"
                shape = "box"
                color = "goldenrod1"
                width=2
        ];

        "task3" [
                label = "Task 3"
                shape = "box"
                color = "goldenrod1"
                width=2
        ];

        "fifo1" [
                label = "fifo"
                shape = "invtriangle"
                color = "cyan2"
        ];

        "fifo2" [
                label = "fifo"
                shape = "invtriangle"
                color = "cyan2"
        ];

        "fifo3" [
                label = "fifo"
                shape = "invtriangle"
                color = "cyan2"
        ];

        "fifo4" [
                label = "fifo"
                shape = "invtriangle"
                color = "cyan2"
        ];


        "fifo1"->"task1"
        "fifo2"->"task2"
        "task1"->"fifo3"
        "task2"->"fifo3"
        "fifo3"->"task3"
        "task3"->"fifo4"

        //rank = same {
        //"waa" [
        //        label = "remember promise\nlock Metax TX\nforward request to Metax"
        //        shape = "box"
        //        color = "goldenrod1"
        //];
        //"metax_input_handler" [
        //        label = "wait for response from Metax\nfind appropriate promise\nset response to promise"
        //        shape = "box"
        //        color = "greenyellow"
        //];
        //}
        //
        //rank = same {
        //"metax_tx" [
        //        label = "Metax TX"
        //]
        //"metax_rx" [
        //        label = "Metax RX"
        //]
        //}

        //"db_handler" -> "waa" [
        //        label="request data and promise"
        //];

        //"waa" -> "metax_tx" [
        //        label=""
        //];

        //"metax_rx" -> "metax_input_handler" [
        //        label=""
        //];
        //"metax_input_handler" -> "db_handler" [
        //        label="set_promise"
        //];

        //// Metax
        //subgraph cluster_metax {
        //        label = "Metax"
        //        bgcolor = "lightblue"
        //        "dummy" [
        //                shape=point style=invis
        //                width = 3
        //        ];
        //        rank = same {
        //        }
        //}

        //"curl" [
        //        color = "aquamarine3"
        //]
        //"browser" [
        //        color = "aquamarine3"
        //]
        //"phone" [
        //        color = "aquamarine3"
        //]

        //"curl" -> "db_handler" [
        //        label = "http(s) request"
        //]
        //"browser" -> "db_handler" [
        //        label = "http(s) request"
        //]
        //"phone" -> "db_handler" [
        //        label = "http(s) request"
        //]
        //"db_handler" -> "curl" [
        //        label = "response"
        //        constraint=false
        //]
        //"db_handler" -> "browser" [
        //        label = "response"
        //        constraint=false
        //]
        //"db_handler" -> "phone" [
        //        label = "response"
        //        constraint=false
        //]

        //"metax_tx" -> "dummy" [
        //        lhead=cluster_metax;
        //]
        //"dummy" -> "metax_rx" [
        //        ltail=cluster_metax;
        //]
}

// vim:et:tabstop=8:shiftwidth=8:cindent:fo=croq:textwidth=80:
